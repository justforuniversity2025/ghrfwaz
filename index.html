<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <meta name="robots" content="noindex">
  <title>üéì–î–ª—è –æ–¥–Ω–æ–≥—Ä—É–ø–ø–Ω–∏–∫–æ–≤</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
:root {
  --primary: #ff6699;
  --secondary: #8a53ff;
  --accent: #48d1cc;
  --bg: #fcf9f2;
  --card-bg: #fff5f0;
  --text: #000;
  --shadow: rgba(0,0,0,0.2);
  --border-radius: 16px;
  --transition: all 0.3s ease;
  --week-btn-text: #000;
}
.dark-theme {
  --bg: #121212;
  --card-bg: #1e1e1e;
  --text: #fff;
  --shadow: rgba(0,0,0,0.4);
  --week-btn-text: rgba(255,255,255,0.9);
}
* { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', system-ui, sans-serif; }
body { background:var(--bg); color:var(--text); line-height:1.5; transition:var(--transition); }
header {
  background:linear-gradient(135deg, var(--primary), var(--secondary));
  padding:0.8rem 1.4rem;
  box-shadow:0 3px 15px var(--shadow);
  position:sticky; top:0; z-index:100;
  display:flex; justify-content:space-between; align-items:center;
  gap:0.9rem; flex-wrap:wrap; height:60px;
}
.theme-toggle {
  background:rgba(255,255,255,0.3); backdrop-filter:blur(10px);
  border:none; color:white; width:36px; height:36px; border-radius:50%;
  font-size:14px; cursor:pointer; display:flex; align-items:center; justify-content:center;
  transition:var(--transition);
}
.theme-toggle:hover {
  background:rgba(255,255,255,0.5); transform:rotate(15deg) scale(1.1);
}
.nav-btn, .week-toggle-btn {
  background:rgba(255,255,255,0.35); backdrop-filter:blur(10px); border:none;
  color:var(--week-btn-text); padding:0.6rem 1.2rem; margin:0;
  border-radius:55px; font-weight:700; font-size:1.05rem; cursor:pointer;
  transition:var(--transition); white-space:nowrap; flex-shrink:0; min-width:100px;
  text-align:center; box-shadow:0 3px 12px var(--shadow);
  text-shadow:0 1px 2px rgba(0,0,0,0.1);
}
.nav-btn:hover, .nav-btn.active, .week-toggle-btn:hover, .week-toggle-btn.active {
  background:white; color:var(--primary); transform:translateY(-3px) scale(1.05);
  box-shadow:0 6px 18px var(--shadow);
}
@media (max-width:768px) {
  header { padding:0.5rem 1rem; height:50px; gap:0.6rem; }
  .nav-btn, .week-toggle-btn { padding:0.4rem 0.8rem; font-size:0.9rem; min-width:60px; }
  .theme-toggle { width:30px; height:30px; font-size:12px; }
}
.dark-theme .week-toggle-btn {
  color:#fff; text-shadow:0 1px 2px rgba(0,0,0,0.4);
  background:rgba(255,255,255,0.2);
}
main { max-width:1200px; margin:1.8rem auto; padding:0 1.2rem; }
.section { display:none; animation:fadeIn 0.6s ease; }
.section.active { display:block; }
h2 { margin:1.8rem 0 1.4rem; color:var(--text); font-size:1.7rem; font-weight:750;
     display:flex; align-items:center; gap:12px; }
p, li { font-size:1.05rem; font-weight:550; color:var(--text); }
.today-tomorrow { display:flex; gap:1.2rem; flex-wrap:wrap; }
.day-column { flex:1; min-width:260px; }
.day-header {
  background:linear-gradient(to right, var(--primary), var(--accent));
  color:white; padding:0.9rem; border-radius:var(--border-radius) var(--border-radius) 0 0;
  font-weight:750; text-align:center; font-size:1.15rem;
  box-shadow:0 3px 8px var(--shadow); animation:pulse 2s infinite;
}
@keyframes pulse {
  0% { transform:scale(1); } 50% { transform:scale(1.02); } 100% { transform:scale(1); }
}
.lesson-card {
  background:var(--card-bg); border-radius:0 0 var(--border-radius) var(--border-radius);
  padding:1.1rem; margin-bottom:1.1rem; box-shadow:0 6px 18px var(--shadow);
  transition:var(--transition); color:var(--text); border-left:4px solid var(--accent);
}
.lesson-card:hover {
  transform:translateY(-5px); box-shadow:0 8px 22px var(--shadow);
  border-left:4px solid var(--primary);
}
.lesson-time {
  font-size:1.02rem; color:var(--accent); margin-bottom:0.3rem;
  display:flex; align-items:center; gap:6px; font-weight:700;
}
.lesson-title {
  font-weight:800; color:var(--text); margin-bottom:0.3rem; font-size:1.3rem;
  transition:color 0.3s ease;
}
.lesson-title[data-type="–ª–µ–∫—Ü–∏—è"] {
  background:linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip:text; color:transparent;
}
.lesson-title[data-type="–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è"],
.lesson-title[data-type="–ª–∞–±."] {
  background:linear-gradient(135deg, var(--accent), var(--secondary));
  -webkit-background-clip:text; color:transparent;
}
.lesson-title[data-type="–ø—Ä–∞–∫—Ç–∏–∫–∞"] {
  background:linear-gradient(135deg, var(--secondary), var(--accent));
  -webkit-background-clip:text; color:transparent;
}
.lesson-meta { font-size:0.95rem; color:var(--text); margin-bottom:0.5rem; font-weight:600; }
.dark-theme .lesson-meta { color:#ccc; text-shadow:0 1px 2px rgba(0,0,0,0.2); }
.hw-toggle {
  background:linear-gradient(135deg, var(--primary), var(--secondary));
  color:white; border:none; padding:0.45rem 1rem; border-radius:22px;
  font-size:0.92rem; cursor:pointer; margin-top:0.6rem; transition:var(--transition);
  font-weight:700; display:flex; align-items:center; gap:7px;
  box-shadow:0 3px 10px var(--shadow);
}
.hw-toggle:hover { opacity:0.95; transform:scale(1.03); }
.hw-content {
  margin-top: 0.8rem;
  padding: 0.9rem 0.6rem; /* ‚Üê —Ç–æ–∂–µ —É–º–µ–Ω—å—à–µ–Ω–æ */
  background: var(--bg);
  border-radius: 10px;
  display: none;
  font-size: 1.02rem;
  border-left: 3px solid var(--accent);
  color: var(--text);
  font-weight: 550;
  box-shadow: 0 4px 12px var(--shadow);
}
.hw-checkbox { display:flex; align-items:center; gap:10px; margin-top:0.7rem; }
.hw-checkbox input { width:20px; height:20px; cursor:pointer; }
.hw-checkbox label { font-size:0.98rem; font-weight:550; cursor:pointer; }
.full-schedule-list, .homework-list, .lectures-list {
  display:flex; flex-direction:column; gap:1.3rem;
}
.schedule-item, .homework-date, .lecture-subject-card {
  background:var(--card-bg); padding:1.3rem; border-radius:var(--border-radius);
  box-shadow:0 5px 15px var(--shadow); color:var(--text); transition:transform 0.2s;
}
.schedule-item:hover, .homework-date:hover, .lecture-subject-card:hover {
  transform:translateY(-5px);
}
.schedule-week-header {
  background:linear-gradient(to right, var(--secondary), var(--primary));
  color:white; padding:0.8rem; border-radius:var(--border-radius);
  margin-bottom:1.1rem; text-align:center; font-weight:750; font-size:1.3rem;
  animation:wave 4s infinite;
}
@keyframes wave {
  0% { transform:scale(1); } 50% { transform:scale(1.03); } 100% { transform:scale(1); }
}
.homework-date h3 { margin-bottom:0.8rem; color:var(--primary); font-size:1.5rem; font-weight:750; }
.homework-item { margin-top:0.8rem; padding-left:1.2rem; border-left:3px solid var(--accent);
                 color:var(--text); font-size:1.05rem; font-weight:550; }
.solution-toggle {
  background:linear-gradient(135deg, var(--secondary), var(--primary));
  color:white; border:none; padding:0.4rem 0.8rem; border-radius:20px;
  font-size:0.88rem; cursor:pointer; margin-top:0.5rem; font-weight:700;
  display:flex; align-items:center; gap:6px; box-shadow:0 2px 8px var(--shadow);
}
.solution-content {
  margin-top:0.7rem; padding:0.75rem; background:var(--bg); border-radius:10px;
  display:none; font-size:1.02rem;
}
footer {
  text-align:center; padding:2.2rem; margin-top:3rem; color:#aaa; font-size:1.02rem;
  border-top:1px solid var(--card-bg); font-weight:550;
}
.lecture-toggle {
  background:linear-gradient(135deg, var(--primary), var(--secondary));
  color:white; border:none; padding:1.1rem 1.8rem; border-radius:20px;
  font-size:1.3rem; font-weight:750; cursor:pointer; width:100%;
  text-align:left; margin-bottom:1.3rem; transition:all 0.4s ease;
  box-shadow:0 5px 18px var(--shadow); position:relative; overflow:hidden;
  display:flex; align-items:center;
}
.lecture-toggle:hover {
  transform:translateY(-4px) scale(1.03); box-shadow:0 7px 25px var(--shadow);
}
.lecture-toggle::after {
  content:"‚ñº"; position:absolute; right:1.4rem; top:50%; transform:translateY(-50%);
  font-size:1.05rem; opacity:0.9; transition:transform 0.3s ease;
}
.lecture-toggle.active::after { content:"‚ñ≤"; }
.lecture-list { display:none; margin-top:0.8rem; padding-left:1.4rem;
                border-left:3px solid var(--secondary); }
.lecture-item { margin:0.7rem 0; font-size:1.05rem; font-weight:550; transition:all 0.2s; }
.lecture-item:hover { color:var(--primary); transform:translateX(5px); }
.lecture-details {
  margin-top:0.8rem; padding:0.8rem; background:var(--bg); border-radius:10px;
  display:none; font-size:1.02rem; border-left:3px solid var(--accent);
  color:var(--text); font-weight:550; transition:all 0.3s ease;
  box-shadow:0 4px 12px var(--shadow);
}
.lecture-details img {
  max-width:100%; height:auto; border-radius:10px; margin-top:0.7rem;
  box-shadow:0 4px 10px var(--shadow);
}
.lecture-details-toggle {
  background:linear-gradient(135deg, var(--accent), var(--primary));
  color:white; border:none; padding:0.45rem 1rem; border-radius:22px;
  font-size:0.92rem; cursor:pointer; margin-top:0.5rem; margin-left:1.2rem;
  transition:var(--transition); font-weight:700; display:inline-flex;
  align-items:center; gap:6px; box-shadow:0 3px 10px var(--shadow);
}
.lecture-details-toggle:hover { opacity:0.9; transform:scale(1.03); }
.highlight { font-weight:800; margin:0 4px; color:var(--primary); }
body:not(.dark-theme) .highlight { color:#000; }
.schedule-item {
  position:relative; padding:1.5rem; border-left:3px solid var(--accent); overflow:hidden;
}
.schedule-item::before,
.schedule-item::after {
  content:''; position:absolute; left:-16px; width:12px; height:12px; border-radius:50%;
}
.schedule-item::before { top:1.5rem; background:var(--primary); }
.schedule-item::after { bottom:1.5rem; background:var(--secondary); }
.schedule-item p {
  margin:0.6rem 0; border-left:2px solid var(--accent); padding-left:1rem;
}
.schedule-item p strong { font-weight:700; color:var(--text); }
.schedule-item p small {
  font-size:0.9rem; color:#777; display:block; margin-top:0.3rem;
}
.solution-images {
  display:flex; flex-direction:column; flex-wrap:wrap; gap:0.8rem; margin-top:0.8rem;
}
.solution-images img {
  width:100%; max-width:600px; border-radius:8px; box-shadow:0 4px 10px var(--shadow);
}
.solution-text {
  margin: 0;
  padding: 1rem 0.6rem; /* –≤–µ—Ä—Ö/–Ω–∏–∑ = 1rem, –ª–µ–≤–æ/–ø—Ä–∞–≤–æ = 0.6rem */
  white-space: pre-line;
  font-size: 1.05rem;
  line-height: 1.5;
  color: var(--text);
  background: var(--bg);
  border-radius: 8px;
  font-weight: 550;
}
.hw-files a {
  display: inline-block;
  margin-top: 0.4rem;
  padding: 0.4rem 0.8rem;
  background: var(--accent);
  color: white;
  text-decoration: none;
  border-radius: 8px;
  font-size: 0.95rem;
  font-weight: 600;
  transition: var(--transition);
}
.hw-files a:hover {
  background: var(--primary);
  transform: translateY(-2px);
  box-shadow: 0 3px 8px var(--shadow);
}
/* --- Modal for task image --- */
.modal-overlay {
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.6);
  display: none; align-items: center; justify-content: center;
  z-index: 9999;
}
.modal {
  background: var(--card-bg);
  border-radius: 16px;
  padding: 1rem;
  box-shadow: 0 12px 40px var(--shadow);
  max-width: 90vw; max-height: 90vh;
  display: flex; flex-direction: column; gap: 0.8rem; align-items: center;
  border-left: 4px solid var(--accent);
}
.modal img {
  max-width: 85vw; max-height: 70vh; border-radius: 10px;
  box-shadow: 0 6px 18px var(--shadow);
}
.modal-close {
  background: linear-gradient(135deg, var(--secondary), var(--primary));
  color: white; border: none; padding: 0.6rem 1.2rem; border-radius: 12px;
  font-weight: 750; cursor: pointer; box-shadow: 0 3px 12px var(--shadow);
}
.modal-close:hover { transform: translateY(-2px); opacity: 0.95; }

/* –ö–Ω–æ–ø–∫–∞ "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–¥–∞–Ω–∏–µ" —Ä—è–¥–æ–º —Å –î–ó */
.view-task-btn {
  display: inline-flex; align-items: center; gap: 8px;
  margin-top: 0.4rem; margin-right: 0.4rem;
  padding: 0.45rem 0.9rem; border-radius: 10px;
  background: linear-gradient(135deg, var(--accent), var(--secondary));
  color: white; font-weight: 700; border: none; cursor: pointer;
  box-shadow: 0 3px 10px var(--shadow); transition: var(--transition);
}
.view-task-btn i { font-size: 0.95rem; }
.view-task-btn:hover { transform: translateY(-2px) scale(1.02); }

  </style>
</head>
<body>
<header>
  <nav>
    <button class="nav-btn active" data-tab="home">–ì–ª–∞–≤–Ω–∞—è</button>
    <button class="nav-btn" data-tab="schedule">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
    <button class="nav-btn" data-tab="homework">–î–ó</button>
    <button class="nav-btn" data-tab="lectures">–õ–µ–∫—Ü–∏–∏</button>
  </nav>
  <button class="theme-toggle" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
    <i class="fas fa-moon"></i>
  </button>
</header>
<main>
  <section id="home" class="section active">
    <div class="today-tomorrow">
      <div class="day-column">
        <div class="day-header" id="today-header">–°–µ–≥–æ–¥–Ω—è</div>
        <div id="today-schedule"></div>
      </div>
      <div class="day-column">
        <div class="day-header" id="tomorrow-header">–ó–∞–≤—Ç—Ä–∞</div>
        <div id="tomorrow-schedule"></div>
      </div>
    </div>
    <h2><i class="fas fa-graduation-cap"></i> –£—á–µ–±–Ω—ã–π –ø–ª–∞–Ω</h2>
    <p>1</p>
    <h2><i class="fas fa-info-circle"></i> –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
    <p>1</p>
    <h2><i class="fas fa-tasks"></i> –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è</h2>
    <p>–ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –∏–∑:</p>
    <ul style="margin-left:2rem;margin-top:0.8rem;">
      <li>50% ‚Äî –ø–æ—Å–µ—â–µ–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –ø–∞—Ä–∞—Ö</li>
      <li>50% ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞—á—ë—Ç–∞</li>
    </ul>
    <p style="margin-top:1.5rem;"><strong>–®–∫–∞–ª–∞ –æ—Ü–µ–Ω–æ–∫:</strong></p>
    <ul style="margin-left:2rem;">
      <li>–Ω–∏–∂–µ 56 –±–∞–ª–ª–æ–≤ ‚Äî –Ω–µ —Å–¥–∞–ª ‚ùå</li>
      <li>56‚Äì70 ‚Äî –£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ ‚úÖ</li>
      <li>71‚Äì85 ‚Äî –•–æ—Ä–æ—à–æ ‚úÖ</li>
      <li>86‚Äì100 ‚Äî –û—Ç–ª–∏—á–Ω–æ ‚úÖ</li>
    </ul>
  </section>
  <section id="schedule" class="section">
    <div style="display:flex;gap:1rem;margin:1.8rem 0;justify-content:center;flex-wrap:wrap;">
      <button class="week-toggle-btn active" id="week-upper">–í–µ—Ä—Ö–Ω—è—è –Ω–µ–¥–µ–ª—è</button>
      <button class="week-toggle-btn" id="week-lower">–ù–∏–∂–Ω—è—è –Ω–µ–¥–µ–ª—è</button>
    </div>
    <div class="full-schedule-list" id="full-schedule"></div>
  </section>
  <section id="homework" class="section">
    <h2><i class="fas fa-pen"></i> –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</h2>
    <div class="homework-list" id="homework-list"></div>
  </section>
  <section id="lectures" class="section">
    <h2><i class="fas fa-book-open"></i> –õ–µ–∫—Ü–∏–∏ –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º</h2>
    <div class="lectures-list" id="lectures-list"></div>
  </section>
</main>
<footer>¬© 2025 –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§ –¥–ª—è –æ–¥–Ω–æ–≥—Ä—É–ø–ø–Ω–∏–∫–æ–≤</footer>
<div id="taskModal" class="modal-overlay" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="taskModalTitle">
    <img id="taskModalImg" src="" alt="–ó–∞–¥–∞–Ω–∏–µ" />
    <button id="taskModalClose" class="modal-close">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
</div>
<script>
// ===== –¢–ï–ú–ê =====
const themeToggle = document.getElementById('themeToggle');
const body = document.body;
const savedTheme = localStorage.getItem('theme');
const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
let currentTheme = savedTheme || (systemPrefersDark ? 'dark' : 'light');

function applyTheme(theme) {
  if (theme === 'dark') {
    body.classList.add('dark-theme');
    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
    localStorage.setItem('theme', 'dark');
  } else {
    body.classList.remove('dark-theme');
    themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
    localStorage.setItem('theme', 'light');
  }
}
applyTheme(currentTheme);
themeToggle.addEventListener('click', () => {
  currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
  applyTheme(currentTheme);
});

// ===== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò =====
function getMoscowDate() {
  const now = new Date();
  return new Date(now.getTime() + (now.getTimezoneOffset() + 180) * 60000);
}
function formatDate(date) {
  const days = ['–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ','–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫','–≤—Ç–æ—Ä–Ω–∏–∫','—Å—Ä–µ–¥–∞','—á–µ—Ç–≤–µ—Ä–≥','–ø—è—Ç–Ω–∏—Ü–∞','—Å—É–±–±–æ—Ç–∞'];
  const months = ['—è–Ω–≤–∞—Ä—è','—Ñ–µ–≤—Ä–∞–ª—è','–º–∞—Ä—Ç–∞','–∞–ø—Ä–µ–ª—è','–º–∞—è','–∏—é–Ω—è','–∏—é–ª—è','–∞–≤–≥—É—Å—Ç–∞','—Å–µ–Ω—Ç—è–±—Ä—è','–æ–∫—Ç—è–±—Ä—è','–Ω–æ—è–±—Ä—è','–¥–µ–∫–∞–±—Ä—è'];
  return `${days[date.getDay()]}, ${date.getDate()} ${months[date.getMonth()]}`;
}
function addDays(date, days) {
  const result = new Date(date);
  result.setDate(result.getDate() + days);
  return result;
}
function getWeekType(date) {
  const semesterStart = new Date(2024, 8, 2);
  const diffWeeks = Math.floor((date - semesterStart) / (7 * 24 * 60 * 60 * 1000));
  return diffWeeks % 2 === 0 ? 'upper' : 'lower';
}

// ===== –•–†–ê–ù–ï–ù–ò–ï –í–´–ü–û–õ–ù–ï–ù–ù–´–• –î–ó =====
function getCompletedTasks() {
  const saved = localStorage.getItem('completedHomework');
  return saved ? JSON.parse(saved) : {};
}
function setCompletedTask(key, completed) {
  const tasks = getCompletedTasks();
  tasks[key] = completed;
  localStorage.setItem('completedHomework', JSON.stringify(tasks));
}

// ===== –î–ê–ù–ù–´–ï =====
const scheduleData = {
  upper: {
    1: [{time:"08:00‚Äì09:30",subject:"–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞",type:"–ª–µ–∫—Ü–∏—è",room:"–£–õ–ö-1, –∞—É–¥. 420",teacher:"–ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –ú–æ—Å–∫–≤–∏–Ω –ù–∏–∫–æ–ª–∞–π –ì–µ–Ω–Ω–∞–¥—å–µ–≤–Ω–∞",hw:""},
        {time:"09:40‚Äì11:10",subject:"–•–∏–º–∏—è",type:"–ª–µ–∫—Ü–∏—è",room:"–£–õ–ö-1, –∞—É–¥. 420",teacher:"–¥–æ—Ü–µ–Ω—Ç –°–∏–ø–ø–µ–ª—å –ò—Ä–∏–Ω–∞ –Ø–∫–æ–≤–ª–µ–≤–Ω–∞",hw:""},
        {time:"11:50‚Äì13:20",subject:"–•–∏–º–∏—è",type:"–ª–∞–±.",room:"–£–õ–ö-1, –∞—É–¥. 145/143",teacher:"–¥–æ—Ü–µ–Ω—Ç –°–∏–ø–ø–µ–ª—å –ò—Ä–∏–Ω–∞ –Ø–∫–æ–≤–ª–µ–≤–Ω–∞ / –®–∞—Ä–∞—Ñ—É—Ç–¥–∏–Ω–æ–≤ –†–∞—Ñ–∏–∫ –ù–∏–∑–∞–º—É—Ç–¥–∏–Ω–æ–≤–∏—á",hw:"–ó–∞—â–∏—Ç–∞ –ª–∞–± –¥–ª—è –≤—Ç–æ—Ä–æ–π –≥—Ä—É–ø–ø—ã"},
        {time:"13:30‚Äì15:00",subject:"–•–∏–º–∏—è",type:"–ª–∞–±.",room:"–£–õ–ö-1, –∞—É–¥. 145/143",teacher:"–¥–æ—Ü–µ–Ω—Ç –°–∏–ø–ø–µ–ª—å –ò—Ä–∏–Ω–∞ –Ø–∫–æ–≤–ª–µ–≤–Ω–∞ / –®–∞—Ä–∞—Ñ—É—Ç–¥–∏–Ω–æ–≤ –†–∞—Ñ–∏–∫ –ù–∏–∑–∞–º—É—Ç–¥–∏–Ω–æ–≤–∏—á",hw:""}],
    2: [{time:"08:00‚Äì09:30",subject:"–û—Å–Ω–æ–≤—ã —Ä–æ—Å—Å–∏–π—Å–∫–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏",type:"–ø—Ä–∞–∫—Ç–∏–∫–∞",room:"–£–õ–ö-1, –∞—É–¥. 454",teacher:"–¥–æ—Ü–µ–Ω—Ç –Ø–∫–æ–≤–ª–µ–≤–∞ –ú–∞—Ä–∏–Ω–∞ –ì–µ–Ω–Ω–∞–¥—å–µ–≤–Ω–∞",hw:""},
        {time:"09:40‚Äì11:10",subject:"–û—Å–Ω–æ–≤—ã —Ä–æ—Å—Å–∏–π—Å–∫–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏",type:"–ø—Ä–∞–∫—Ç–∏–∫–∞",room:"–£–õ–ö-1, –∞—É–¥. 454",teacher:"–¥–æ—Ü–µ–Ω—Ç –Ø–∫–æ–≤–ª–µ–≤–∞ –ú–∞—Ä–∏–Ω–∞ –ì–µ–Ω–Ω–∞–¥—å–µ–≤–Ω–∞",hw:""},
        {time:"11:50‚Äì13:20",subject:"–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞",type:"–ª–∞–±.",room:"–£–õ–ö-2, –∞—É–¥. 401/418",teacher:"—Å—Ç.–ø—Ä–µ–ø. –ë—É–ª–∞—Ç–æ–≤–∞ –°–≤–µ—Ç–ª–∞–Ω–∞ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω–∞ / –®–∏–≥–∞–ø–æ–≤–∞ –õ.–§.",hw:""}],
    3: [{time:"08:00‚Äì09:30",subject:"–ò—Å—Ç–æ—Ä–∏—è –†–æ—Å—Å–∏–∏",type:"–ø—Ä–∞–∫—Ç–∏–∫–∞",room:"–£–õ–ö-1, –∞—É–¥. 420",teacher:"–¥–æ—Ü–µ–Ω—Ç –ë–µ—Å—Å–æ–Ω–æ–≤–∞ –¢–∞—Ç—å—è–Ω–∞ –í–∏–∫—Ç–æ—Ä–æ–≤–Ω–∞",hw:""},
        {time:"09:40‚Äì11:10",subject:"–ò—Å—Ç–æ—Ä–∏—è –†–æ—Å—Å–∏–∏",type:"–ª–µ–∫—Ü–∏—è",room:"–£–õ–ö-1, –∞—É–¥. 414",teacher:"–¥–æ—Ü–µ–Ω—Ç –ë–µ—Å—Å–æ–Ω–æ–≤–∞ –¢–∞—Ç—å—è–Ω–∞ –í–∏–∫—Ç–æ—Ä–æ–≤–Ω–∞",hw:""},
        {time:"11:50‚Äì13:20",subject:"–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ (2 –ø–æ–¥–≥—Ä.)",type:"–ø—Ä–∞–∫—Ç–∏–∫–∞",room:"–£–õ–ö-1, –∞—É–¥. 326",teacher:"–¥–æ—Ü–µ–Ω—Ç –°–ª–∞–≤–∏–Ω–∞ –õ–∏–ª–∏—è –†—É—Å—Ç–∞–º–æ–≤–Ω–∞",hw:""}],
    5: [{time:"08:00‚Äì09:30",subject:"–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑",type:"–ø—Ä–∞–∫—Ç–∏–∫–∞",room:"–£–õ–ö-2, –∞—É–¥. 432",teacher:"–¥–æ—Ü–µ–Ω—Ç –ì—É–±–æ—á–∫–∏–Ω–∞ –ù–∞—Ç–∞–ª—å—è –ò–≤–∞–Ω–æ–≤–Ω–∞",hw:"–Ω–∞ –ª–∏—Å—Ç–æ—á–∫–µ –≤ whatsapp"},
        {time:"09:40‚Äì11:10",subject:"–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑",type:"–ª–µ–∫—Ü–∏—è",room:"–£–õ–ö-2, –∞—É–¥. 302",teacher:"–¥–æ—Ü–µ–Ω—Ç –ì—É–±–æ—á–∫–∏–Ω–∞ –ù–∞—Ç–∞–ª—å—è –ò–≤–∞–Ω–æ–≤–Ω–∞",hw:""},
        {time:"11:50‚Äì13:20",subject:"–§–∏–∑–∏—á–µ—Å–∫–∞—è –∫—É–ª—å—Ç—É—Ä–∞ –∏ —Å–ø–æ—Ä—Ç",type:"–ø—Ä–∞–∫—Ç–∏–∫–∞",room:"—Å–ø–æ—Ä—Ç–∫–æ–º–ø–ª–µ–∫—Å, –∞—É–¥. 24",teacher:"–ø—Ä–µ–ø. –ö–∞–º–∞–ª–µ—Ç–¥–∏–Ω–æ–≤ –ú–∞—Ä–∞—Ç –®–∞–≤–∫–∏—Ç–æ–≤–∏—á",hw:""},
        {time:"13:30‚Äì15:00",subject:"–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ (1 –ø–æ–¥–≥—Ä.)",type:"–ø—Ä–∞–∫—Ç–∏–∫–∞",room:"–£–õ–ö-4, –∞—É–¥. 208",teacher:"—Å—Ç.–ø—Ä–µ–ø. –ú—É—Å—Ç–∞—Ñ–∏–Ω–∞ –õ–∏–ª–∏—è –†–∞—à–∏–¥–æ–≤–Ω–∞",hw:""}],
      },
  lower: {
    1: [{time:"09:40‚Äì11:10",subject:"–•–∏–º–∏—è",type:"–ª–µ–∫—Ü–∏—è",room:"–£–õ–ö-1, –∞—É–¥. 420",teacher:"–¥–æ—Ü–µ–Ω—Ç –°–∏–ø–ø–µ–ª—å –ò—Ä–∏–Ω–∞ –Ø–∫–æ–≤–ª–µ–≤–Ω–∞",hw:""},
        {time:"11:50‚Äì13:20",subject:"–û—Å–Ω–æ–≤—ã —Ä–æ—Å—Å–∏–π—Å–∫–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏",type:"–ª–µ–∫—Ü–∏—è",room:"–£–õ–ö-1, –∞—É–¥. 420",teacher:"–¥–æ—Ü–µ–Ω—Ç –Ø–∫–æ–≤–ª–µ–≤–∞ –ú–∞—Ä–∏–Ω–∞ –ì–µ–Ω–Ω–∞–¥—å–µ–≤–Ω–∞",hw:""}],
    2: [{time:"08:00‚Äì09:30",subject:"–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ",type:"–ª–∞–±.",room:"–£–õ–ö-2, –∞—É–¥. 405/406",teacher:"—Å—Ç.–ø—Ä–µ–ø. –ë—É–ª–∞—Ç–æ–≤–∞ –°–≤–µ—Ç–ª–∞–Ω–∞ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω–∞ / –®–∏–≥–∞–ø–æ–≤–∞ –õ.–§.",hw:"–ª–∞–±—ã –ø–æ –±–ª–æ–∫ —Å—Ö–µ–º–∞–º –∏ C#"},
        {time:"09:40‚Äì11:10",subject:"–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞",type:"–ª–∞–±.",room:"–£–õ–ö-2, –∞—É–¥. 401/418",teacher:"—Å—Ç.–ø—Ä–µ–ø. –ë—É–ª–∞—Ç–æ–≤–∞ –°–≤–µ—Ç–ª–∞–Ω–∞ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω–∞ / –®–∏–≥–∞–ø–æ–≤–∞ –õ.–§.",hw:"–í—ã–ø–æ–ª–Ω–∏—Ç—å –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –ø–æ Excel –∑–∞ –ø–µ—Ä–≤—ã–π —Å–µ–º–µ—Å—Ç—Ä"},
        {time:"11:50‚Äì13:20",subject:"–ò–Ω–∂–µ–Ω–µ—Ä–Ω–∞—è –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞",type:"–ø—Ä–∞–∫—Ç–∏–∫–∞",room:"–£–õ–ö-2 ¬∑ –∞—É–¥. 330",teacher:"–¥–æ—Ü–µ–Ω—Ç –§–µ–æ–∫—Ç–∏—Å—Ç–æ–≤–∞ –õ–∏–¥–∏—è –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞/–†–∑–∞–µ–≤–∞ –¢–∞—Ç—å—è–Ω–∞ –í–∞—Å–∏–ª—å–µ–≤–Ω–∞",hw:"–ò–Ω–∂–µ–Ω–µ—Ä–Ω–∞—è –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞:  9 (–ø—Ä–æ—à–ª–æ–µ –¥–∑), 22 (3), 23, 38, –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ –ê3"},
        {time:"13:30‚Äì15:00",subject:"–í–≤–µ–¥–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å",type:"–ª–µ–∫—Ü–∏—è/–ø—Ä–∞–∫—Ç–∏–∫–∞",room:"–£–õ–ö-2 ¬∑ –∞—É–¥. 417",teacher:"–¥–æ—Ü–µ–Ω—Ç –í–∞–ª–∏–µ–≤ –†—É—Å—Ç–∞–º –ê—Å–≥–∞—Ç–æ–≤–∏—á",hw:""}],
    3: [{time:"09:40‚Äì11:10",subject:"–ò—Å—Ç–æ—Ä–∏—è –†–æ—Å—Å–∏–∏",type:"–ª–µ–∫—Ü–∏—è",room:"–£–õ–ö-1, –∞—É–¥. 414",teacher:"–¥–æ—Ü–µ–Ω—Ç –ë–µ—Å—Å–æ–Ω–æ–≤–∞ –¢–∞—Ç—å—è–Ω–∞ –í–∏–∫—Ç–æ—Ä–æ–≤–Ω–∞",hw:""},
        {time:"11:50‚Äì13:20",subject:"–ò–Ω–∂–µ–Ω–µ—Ä–Ω–∞—è –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞",type:"–ª–µ–∫—Ü–∏—è",room:"–£–õ–ö-2, –∞—É–¥. 341",teacher:"–¥–æ—Ü–µ–Ω—Ç –§–µ–æ–∫—Ç–∏—Å—Ç–æ–≤–∞ –õ–∏–¥–∏—è –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞",hw:""},
      {time:"13:30‚Äì15:00",subject:"–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ (–ø–µ—Ä–µ–Ω–æ—Å –∑–∞ 4.11)",type:"–ª–∞–±.",room:"–£–õ–ö-2, –∞—É–¥. 401/418",teacher:"—Å—Ç.–ø—Ä–µ–ø. –ë—É–ª–∞—Ç–æ–≤–∞ –°–≤–µ—Ç–ª–∞–Ω–∞ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω–∞ / –®–∏–≥–∞–ø–æ–≤–∞ –õ.–§.",hw:"–í—ã–ø–æ–ª–Ω–∏—Ç—å –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –ø–æ Excel –∑–∞ –ø–µ—Ä–≤—ã–π —Å–µ–º–µ—Å—Ç—Ä"},
    {time:"15:40‚Äì17:10",subject:"–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–µ—Ä–µ–Ω–æ—Å –∑–∞ 4.11)",type:"–ª–∞–±.",room:"–£–õ–ö-2, –∞—É–¥. 405/406",teacher:"—Å—Ç.–ø—Ä–µ–ø. –ë—É–ª–∞—Ç–æ–≤–∞ –°–≤–µ—Ç–ª–∞–Ω–∞ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω–∞ / –®–∏–≥–∞–ø–æ–≤–∞ –õ.–§.",hw:"–ª–∞–±—ã –ø–æ –±–ª–æ–∫ —Å—Ö–µ–º–∞–º –∏ C#"},],
    4: [{time:"08:00‚Äì09:30",subject:"–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è",type:"–ø—Ä–∞–∫—Ç–∏–∫–∞",room:"–£–õ–ö-2, –∞—É–¥. 302",teacher:"–¥–æ—Ü–µ–Ω—Ç –ö–æ—Å—Ç–∏–Ω –ê–Ω–¥—Ä–µ–π –í–∏–∫—Ç–æ—Ä–æ–≤–∏—á",hw:"2.94,2.98"},
        {time:"09:40‚Äì11:10",subject:"–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è",type:"–ª–µ–∫—Ü–∏—è",room:"–£–õ–ö-2, –∞—É–¥. 302",teacher:"–¥–æ—Ü–µ–Ω—Ç –ö–æ—Å—Ç–∏–Ω –ê–Ω–¥—Ä–µ–π –í–∏–∫—Ç–æ—Ä–æ–≤–∏—á",hw:""},
        {time:"11:50‚Äì13:20",subject:"–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è",type:"–ø—Ä–∞–∫—Ç–∏–∫–∞",room:"–£–õ–ö-2, –∞—É–¥. 432",teacher:"–¥–æ—Ü–µ–Ω—Ç –ö–æ—Å—Ç–∏–Ω –ê–Ω–¥—Ä–µ–π –í–∏–∫—Ç–æ—Ä–æ–≤–∏—á",hw:""}],
    5: [{time:"08:00‚Äì09:30",subject:"–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑",type:"–ø—Ä–∞–∫—Ç–∏–∫–∞",room:"–£–õ–ö-2, –∞—É–¥. 432",teacher:"–¥–æ—Ü–µ–Ω—Ç –ì—É–±–æ—á–∫–∏–Ω–∞ –ù–∞—Ç–∞–ª—å—è –ò–≤–∞–Ω–æ–≤–Ω–∞",hw:"–Ω–∞ –ª–∏—Å—Ç–æ—á–∫–µ"},
        {time:"09:40‚Äì11:10",subject:"–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑",type:"–ª–µ–∫—Ü–∏—è",room:"–£–õ–ö-2, –∞—É–¥. 302",teacher:"–¥–æ—Ü–µ–Ω—Ç –ì—É–±–æ—á–∫–∏–Ω–∞ –ù–∞—Ç–∞–ª—å—è –ò–≤–∞–Ω–æ–≤–Ω–∞",hw:""},
        {time:"11:50‚Äì13:20",subject:"–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞",type:"–ª–µ–∫—Ü–∏—è",room:"–£–õ–ö-5, –∞—É–¥. 305",teacher:"—Å—Ç.–ø—Ä–µ–ø. –ë—É–ª–∞—Ç–æ–≤–∞ –°–≤–µ—Ç–ª–∞–Ω–∞ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω–∞",hw:""},
        {time:"13:30‚Äì15:00",subject:"–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ",type:"–ª–µ–∫—Ü–∏—è",room:"–£–õ–ö-5, –∞—É–¥. 308",teacher:"—Å—Ç.–ø—Ä–µ–ø. –ë—É–ª–∞—Ç–æ–≤–∞ –°–≤–µ—Ç–ª–∞–Ω–∞ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω–∞",hw:""}],
    6: [{time:"08:00‚Äì09:30",subject:"–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫",type:"—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (–ø—Ä–∞–∫—Ç–∏–∫–∞)",room:"",teacher:"",hw:""}]
  }
};
const homeworkData = {
  "2025-12-01": [{hw:"–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞: –í—ã–ø–æ–ª–Ω–∏—Ç—å –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –ø–æ Excel –∑–∞ –ø–µ—Ä–≤—ã–π —Å–µ–º–µ—Å—Ç—Ä", 
  files: ["https://example.com/files/test.zip"]
  },
  {hw:"–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ: –í—ã–ø–æ–ª–Ω–∏—Ç—å –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –ø–æ –ë–ª–æ–∫ —Å—Ö–µ–º–∞–º –∏ C# –∑–∞ –ø–µ—Ä–≤—ã–π —Å–µ–º–µ—Å—Ç—Ä",
    files: ["https://example.com/files/test.zip"],
  }
  
    
  ],
    "2025-10-21": [{hw:"–ò–Ω–∂–µ–Ω–µ—Ä–Ω–∞—è –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞:  9 (–ø—Ä–æ—à–ª–æ–µ –¥–∑), 22 (3), 23, 38, –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ –ê3", taskImage: "assets/img/a1.jpeg"}  
  ],
      "2025-10-23": [{hw:"–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è:  2.94, 2.98"}  
  ],
        "2025-10-24": [{hw:"–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑: –Ω–∞ –ª–∏—Å—Ç–æ—á–∫–µ"}  
  ],
  "2025-10-17": [{
    hw:"–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑: –Ω–∞ –ª–∏—Å—Ç–æ—á–∫–µ –≤ whatsapp",
     solution: {
      images: ["assets/img/a1.jpeg", "assets/img/a2.jpeg"]
    }
 }],
  
  "2025-10-15": [{
    hw:"–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ (2 –ø–æ–¥–≥—Ä.): –í—ã—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç About Myself",
    solution:{text:`About Myself\n\nLet me introduce myself. My name is Alexander, Alex for short. My full name is Alexander Sergeyevich Orlov. Orlov is my surname. Alexander is my first name and Sergeyevich is my patronymic. I‚Äôm nearly eighteen‚Äînext Thursday is my birthday. Now I‚Äôm a first-year student. I study at the Institute. Every day I attend lectures. In January and June I take examinations. I get good or excellent marks in all the subjects. When I graduate from the Institute I want to work as an engineer.\n\nI have a large family. My parents have two more children besides me. Thus I have got an elder brother and a younger sister. My sister Helen is just out of school. She is sixteen. She is very fond of music and her dream is to become a pianist. My brother, whose name is Michael, is eight years my senior. He is twenty six already. He is a builder. He is married and has a family of his own. They are four in the family. He has a wife and two children‚Äî a son and a daughter. They are twins.\n\nMy parents are not old at all. Father is fifty and mother is three years his junior. My father is a doctor. He works in a hospital. He is very busy, he has a lot of patients and does all he can to help them. My mother is a book-keeper. She works at an office. She too has a lot of work. Still, she finds time to look after the house and to take care of all of us.\n\nMy grandfather is not yet a pensioner, though he is over seventy. He is still full of the life energy. My grandmother is also in very good health. She does most of the cooking. Of course mother helps her and so does my sister. In the evening we all come together and either watch TV or just talk about the events of the day. We are all great friends. I love my relatives dearly.`}
  }],
  "2025-10-13": [{hw:"–•–∏–º–∏—è: –î–æ–¥–µ–ª–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è–ª–∫—É –í—Ç–æ—Ä–æ–π –ø–æ–¥–≥—Ä—É–ø–ø–µ"}]
};
const lecturesData = {
  "–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è": [
    { title: "–õ–µ–∫—Ü–∏—è 1: –û—Å–Ω–æ–≤—ã", url: "https://example.com/chem-lecture1" },
  ],
  "–í–≤–µ–¥–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å": [
    { title: "–õ–µ–∫—Ü–∏—è 1: –û—Å–Ω–æ–≤—ã", url: "https://example.com/inf-lecture1" }
  ],
      "–ò–Ω–∂–µ–Ω–µ—Ä–Ω–∞—è –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞": [
    { title: "–õ–µ–∫—Ü–∏—è 1: –û—Å–Ω–æ–≤—ã", url: "https://example.com/chem-lecture1" },
  ],
    "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞": [
    { title: "–õ–µ–∫—Ü–∏—è 1: –û—Å–Ω–æ–≤—ã", url: "https://example.com/chem-lecture1" },
  ],

    "–ò—Å—Ç–æ—Ä–∏—è –†–æ—Å—Å–∏–∏": [
    { title: "–õ–µ–∫—Ü–∏—è 1: –û—Å–Ω–æ–≤—ã", url: "https://example.com/chem-lecture1" },
  ],
        "–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑": [
    { title: "–õ–µ–∫—Ü–∏—è 1: –û—Å–Ω–æ–≤—ã", url: "https://example.com/chem-lecture1" },
  ],
      "–û—Å–Ω–æ–≤—ã —Ä–æ—Å—Å–∏–π—Å–∫–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": [
    { title: "–õ–µ–∫—Ü–∏—è 1: –û—Å–Ω–æ–≤—ã", url: "https://example.com/chem-lecture1" },
  ],
      "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ": [
    { title: "–õ–µ–∫—Ü–∏—è 1: –û—Å–Ω–æ–≤—ã", url: "https://example.com/chem-lecture1" },
  ],

      "–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞ –∏ —Å–ø–æ—Ä—Ç (–ª–µ–∫—Ü–∏—è)": [
    { title: "–õ–µ–∫—Ü–∏—è 1: –û—Å–Ω–æ–≤—ã", url: "https://example.com/chem-lecture1" },
  ],
        "–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞ –∏ —Å–ø–æ—Ä—Ç (–ø—Ä–∞–∫—Ç–∏–∫–∞)": [
    { title: "–õ–µ–∫—Ü–∏—è 1: –û—Å–Ω–æ–≤—ã", url: "https://example.com/chem-lecture1" },
  ],
};
// ===== –†–ï–ù–î–ï–† =====
function renderCompactSchedule(container, date) {
  const day = date.getDay();
  const weekType = getWeekType(date);
  const lessons = scheduleData[weekType]?.[day] || [];
  container.innerHTML = lessons.length ? '' : '<div class="lesson-card" style="text-align:center;color:#888;">–í—ã—Ö–æ–¥–Ω–æ–π üå∏</div>';
  lessons.forEach(lesson => {
    const card = document.createElement('div');
    card.className = 'lesson-card';
    let cardHTML = `
      <div class="lesson-time"><i class="far fa-clock"></i> ${lesson.time}
        <span class="lesson-subject" data-type="${lesson.type}">${lesson.subject}</span>
      </div>
      <div class="lesson-meta">${lesson.type} ¬∑ ${lesson.room}</div>`;
    if (lesson.hw) {
      const hwKey = `${formatDate(date)}|${lesson.hw}`;
      const isCompleted = getCompletedTasks()[hwKey] === true;
      cardHTML += `
        <button class="hw-toggle" data-hw-key="${hwKey}">–î–ó <i class="fas fa-chevron-down"></i></button>
        <div class="hw-content" style="display:none;">${lesson.hw}</div>`;
    }
    card.innerHTML = cardHTML;
    container.appendChild(card);
    if (lesson.hw) {
      const toggleBtn = card.querySelector('.hw-toggle');
      const hwContent = card.querySelector('.hw-content');
      toggleBtn.addEventListener('click', () => {
        const isShown = hwContent.style.display === 'block';
        hwContent.style.display = isShown ? 'none' : 'block';
        toggleBtn.innerHTML = isShown ?
          '–î–ó <i class="fas fa-chevron-down"></i>' :
          '–°–∫—Ä—ã—Ç—å <i class="fas fa-chevron-up"></i>';
      });
    }
  });
}

function renderFullSchedule(weekType = 'upper') {
  const container = document.getElementById('full-schedule');
  container.innerHTML = '';
  const dayNames = ['–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ','–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫','–í—Ç–æ—Ä–Ω–∏–∫','–°—Ä–µ–¥–∞','–ß–µ—Ç–≤–µ—Ä–≥','–ü—è—Ç–Ω–∏—Ü–∞','–°—É–±–±–æ—Ç–∞'];
  const lessons = scheduleData[weekType] || {};
  for (let day = 1; day <= 6; day++) {
    const dayLessons = lessons[day] || [];
    if (!dayLessons.length) continue;
    const dayDiv = document.createElement('div');
    dayDiv.className = 'schedule-item';
    let html = `<h3>${dayNames[day]}</h3>`;
    dayLessons.forEach(lesson => {
      html += `<p><strong>${lesson.subject}</strong> (${lesson.type})<br>
               <small>${lesson.time} ¬∑ ${lesson.room} ¬∑ ${lesson.teacher}</small></p>`;
    });
    dayDiv.innerHTML = html;
    container.appendChild(dayDiv);
  }
  document.getElementById('week-upper').classList.toggle('active', weekType === 'upper');
  document.getElementById('week-lower').classList.toggle('active', weekType === 'lower');
}

function renderHomework() {
  const container = document.getElementById('homework-list');
  const now = getMoscowDate();
  const todayStart = new Date(now.getFullYear(), now.getMonth(), now.getDate());

  const allDates = Object.keys(homeworkData);
  if (allDates.length === 0) {
    container.innerHTML = '<p style="text-align:center;color:#888;">–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ.</p>';
    return;
  }

  // –†–∞–∑–¥–µ–ª—è–µ–º –¥–∞—Ç—ã –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∏ –ø—Ä–æ—à–µ–¥—à–∏–µ
  const futureOrToday = [];
  const past = [];

  allDates.forEach(dateStr => {
    const [y, m, d] = dateStr.split('-').map(Number);
    const date = new Date(y, m - 1, d);
    if (date >= todayStart) {
      futureOrToday.push(dateStr);
    } else {
      past.push(dateStr);
    }
  });

  // –°–æ—Ä—Ç–∏—Ä—É–µ–º –æ–±–µ –≥—Ä—É–ø–ø—ã –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é –¥–∞—Ç—ã
futureOrToday.sort((a, b) => new Date(a) - new Date(b));
past.sort((a, b) => new Date(b) - new Date(a));

  // –°–Ω–∞—á–∞–ª–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ, –ø–æ—Ç–æ–º –ø—Ä–æ—à–µ–¥—à–∏–µ
  const sortedDates = [...futureOrToday, ...past];

  container.innerHTML = '';

  sortedDates.forEach(dateStr => {
    const [y, m, d] = dateStr.split('-').map(Number);
    const date = new Date(y, m - 1, d);
    const isPast = date < todayStart;

    const dayDiv = document.createElement('div');
    dayDiv.className = 'homework-date';
    if (isPast) {
      dayDiv.style.opacity = '0.7';
      dayDiv.style.borderLeft = '3px solid #aaa';
    }

    dayDiv.innerHTML = `<h3>${formatDate(date)}${isPast ? ' <small>(–ø—Ä–æ—à–ª–æ)</small>' : ''}</h3>`;

    homeworkData[dateStr].forEach(item => {
      const hwKey = `${dateStr}|${item.hw}`;
      const hasSolution = item.solution && (item.solution.text || (item.solution.images?.length));
      const hasFiles = item.files && Array.isArray(item.files) && item.files.length > 0;

      let homeworkHTML = item.hw;
const taskImg = item.taskImage || (Array.isArray(item.taskImages) ? item.taskImages[0] : null);
if (taskImg) {
  homeworkHTML += `
    <button class="view-task-btn" data-img="${taskImg}">
      <i class="fas fa-image"></i> –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–¥–∞–Ω–∏–µ
    </button>
  `;
}

      // –î–æ–±–∞–≤–ª—è–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∞–π–ª—ã, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
      if (hasFiles) {
        homeworkHTML += `<div class="hw-files" style="margin-top:0.6rem;">`;
        item.files.forEach(fileUrl => {
          // –ò–∑–≤–ª–µ–∫–∞–µ–º –∏–º—è —Ñ–∞–π–ª–∞ –∏–∑ URL (—É–±–∏—Ä–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ—Å–ª–µ ?)
          const fileName = decodeURIComponent(fileUrl.split('/').pop().split('?')[0]) || '–§–∞–π–ª';
          homeworkHTML += `
            <a href="${fileUrl}" download="${fileName}" target="_blank"
               style="display:inline-block; margin-top:0.4rem; padding:0.4rem 0.8rem;
                      background:var(--accent); color:white; text-decoration:none;
                      border-radius:8px; font-size:0.95rem; font-weight:600;">
              üì• –°–∫–∞—á–∞—Ç—å: ${fileName}
            </a>`;
        });
        homeworkHTML += `</div>`;
      }

      // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–†–µ—à–µ–Ω–∏–µ", –µ—Å–ª–∏ –µ—Å—Ç—å
      if (hasSolution) {
        homeworkHTML += `
          <button class="solution-toggle" data-hw-key="${hwKey}">–†–µ—à–µ–Ω–∏–µ <i class="fas fa-chevron-down"></i></button>
          <div class="solution-content" style="display:none;"></div>`;
      }

      const homeworkItem = document.createElement('div');
      homeworkItem.className = 'homework-item';
      homeworkItem.innerHTML = homeworkHTML;
      const viewBtn = homeworkItem.querySelector('.view-task-btn');
if (viewBtn) {
  viewBtn.addEventListener('click', () => openTaskModal(viewBtn.dataset.img));
}
      dayDiv.appendChild(homeworkItem);

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–†–µ—à–µ–Ω–∏–µ"
      if (hasSolution) {
        const btn = homeworkItem.querySelector('.solution-toggle');
        const content = homeworkItem.querySelector('.solution-content');
        btn.addEventListener('click', () => {
          const isShown = content.style.display === 'block';
          content.style.display = isShown ? 'none' : 'block';
          content.innerHTML = (item.solution.text ? `<div class="solution-text">${item.solution.text}</div>` : '') +
            (item.solution.images?.length ? `<div class="solution-images">${item.solution.images.map(img => `<img src="${img}" alt="–†–µ—à–µ–Ω–∏–µ">`).join('')}</div>` : '');
          btn.innerHTML = isShown ?
            '–†–µ—à–µ–Ω–∏–µ <i class="fas fa-chevron-down"></i>' :
            '–°–∫—Ä—ã—Ç—å <i class="fas fa-chevron-up"></i>';
        });
      }
    });

    container.appendChild(dayDiv);
  });
}

function renderLectures() {
  const container = document.getElementById('lectures-list');
  if (!container) return;
  container.innerHTML = '';

  for (const subject in lecturesData) {
    const lectures = lecturesData[subject];
    if (!Array.isArray(lectures) || lectures.length === 0) continue;

    const subjectDiv = document.createElement('div');
    subjectDiv.className = 'lecture-subject-card';
    subjectDiv.innerHTML = `<h3 style="margin-bottom:1rem;color:var(--primary);">${subject}</h3>`;

    lectures.forEach(lecture => {
      if (!lecture?.title || !lecture?.url) return;
      const link = document.createElement('a');
      link.href = lecture.url;
      link.target = '_blank';
      link.rel = 'noopener noreferrer';
      link.className = 'lecture-item';
      link.style.display = 'block';
      link.style.padding = '0.8rem 1rem';
      link.style.margin = '0.5rem 0';
      link.style.backgroundColor = 'var(--card-bg)';
      link.style.borderRadius = '12px';
      link.style.textDecoration = 'none';
      link.style.color = 'var(--text)';
      link.style.fontWeight = '600';
      link.style.transition = 'all 0.2s';
      link.style.borderLeft = '3px solid var(--secondary)';
      link.innerHTML = lecture.title;
      link.onmouseenter = () => {
        link.style.transform = 'translateX(5px)';
        link.style.boxShadow = '0 4px 10px var(--shadow)';
        link.style.color = 'var(--primary)';
      };
      link.onmouseleave = () => {
        link.style.transform = 'translateX(0)';
        link.style.boxShadow = 'none';
        link.style.color = 'var(--text)';
      };
      subjectDiv.appendChild(link);
    });

    container.appendChild(subjectDiv);
  }

  if (container.children.length === 0) {
    container.innerHTML = '<p style="text-align:center;color:#888;">–õ–µ–∫—Ü–∏–∏ –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã.</p>';
  }
}

// ===== –ó–ê–©–ò–¢–ê –õ–ï–ö–¶–ò–ô =====
function isPasswordEntered() {
  return localStorage.getItem('lecturesPassword') === 'true';
}
function showPasswordForm() {
  const lecturesSection = document.getElementById('lectures');
  lecturesSection.innerHTML = `
    <div style="text-align:center;margin:2.5rem 0;padding:2rem;background:var(--card-bg);border-radius:var(--border-radius);box-shadow:0 10px 30px var(--shadow);">
      <h2><i class="fas fa-lock"></i> –ó–∞—â–∏—â–µ–Ω–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞</h2>
      <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–µ–∫—Ü–∏—è–º –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:</p>
      <div style="margin:2rem 0;">
        <input type="password" id="lecturesPassword" placeholder="–ü–∞—Ä–æ–ª—å" style="padding:1rem;border-radius:12px;border:1px solid var(--accent);font-size:1.15rem;width:200px;text-align:center;">
        <button id="lecturesSubmit" style="margin-left:1rem;padding:0.9rem 2rem;border-radius:12px;background:var(--primary);color:white;border:none;font-weight:700;cursor:pointer;">–í–æ–π—Ç–∏</button>
      </div>
    </div>`;
  document.getElementById('lecturesSubmit').onclick = () => {
    if (document.getElementById('lecturesPassword').value === '8888') {
      localStorage.setItem('lecturesPassword', 'true');
      location.reload();
    } else {
      alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
      document.getElementById('lecturesPassword').value = '';
      document.getElementById('lecturesPassword').focus();
    }
  };
  document.getElementById('lecturesPassword').onkeypress = e => {
    if (e.key === 'Enter') document.getElementById('lecturesSubmit').click();
  };
}

// ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø =====
function init() {
  const now = getMoscowDate();
  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
  const tomorrow = addDays(today, 1);
  document.getElementById('today-header').textContent = `–°–µ–≥–æ–¥–Ω—è ‚Äî ${formatDate(today)}`;
  document.getElementById('tomorrow-header').textContent = `–ó–∞–≤—Ç—Ä–∞ ‚Äî ${formatDate(tomorrow)}`;
  renderCompactSchedule(document.getElementById('today-schedule'), today);
  renderCompactSchedule(document.getElementById('tomorrow-schedule'), tomorrow);
  renderFullSchedule();
  renderHomework();
  renderLectures();
  if (!isPasswordEntered()) showPasswordForm();
}

// ===== –°–û–ë–´–¢–ò–Ø =====
document.querySelectorAll('.nav-btn').forEach(btn =>
  btn.addEventListener('click', () => {
    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById(btn.dataset.tab).classList.add('active');
  })
);
document.getElementById('week-upper').addEventListener('click', () => renderFullSchedule('upper'));
document.getElementById('week-lower').addEventListener('click', () => renderFullSchedule('lower'));

window.addEventListener('load', init);
// ===== –ú–û–î–ê–õ–ö–ê –° –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ï–ú –ó–ê–î–ê–ù–ò–Ø =====
function openTaskModal(imgUrl) {
  const overlay = document.getElementById('taskModal');
  const img = document.getElementById('taskModalImg');
  img.src = imgUrl;
  overlay.style.display = 'flex';
  overlay.setAttribute('aria-hidden', 'false');
  // —Ñ–æ–∫—É—Å –Ω–∞ –∫–Ω–æ–ø–∫—É –∑–∞–∫—Ä—ã—Ç–∏—è –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
  setTimeout(() => document.getElementById('taskModalClose').focus(), 0);
}

function closeTaskModal() {
  const overlay = document.getElementById('taskModal');
  const img = document.getElementById('taskModalImg');
  overlay.style.display = 'none';
  overlay.setAttribute('aria-hidden', 'true');
  img.src = '';
}

// –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ñ–æ–Ω –∏ –ø–æ Esc
(() => {
  const overlay = document.getElementById('taskModal');
  const closeBtn = document.getElementById('taskModalClose');
  if (!overlay || !closeBtn) return;

  overlay.addEventListener('click', e => {
    if (e.target === overlay) closeTaskModal();
  });
  closeBtn.addEventListener('click', closeTaskModal);
  document.addEventListener('keydown', e => {
    if (e.key === 'Escape' && overlay.style.display === 'flex') closeTaskModal();
  });
})();

</script>
</body>
</html>
