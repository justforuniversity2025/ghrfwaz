<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Алгоритм обратного хода метода Гаусса</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }
        
        body {
            line-height: 1.6;
            color: #333;
            background-color: #f0f4f8;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #2c8c99;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        h2 {
            color: #2c8c99;
            margin: 25px 0 15px 0;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }
        
        h3 {
            color: #3498db;
            margin: 20px 0 10px 0;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.1em;
            margin-bottom: 20px;
        }
        
        .section {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 5px solid #3498db;
        }
        
        .algorithm-explanation {
            background-color: #f0f7ff;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            border: 1px solid #d1e7ff;
        }
        
        .step {
            margin-bottom: 25px;
            padding: 15px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background-color: #2c8c99;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .code-block {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            line-height: 1.5;
            margin: 20px 0;
        }
        
        .code-comment {
            color: #7f8c8d;
        }
        
        .code-keyword {
            color: #3498db;
        }
        
        .code-type {
            color: #9b59b6;
        }
        
        .code-string {
            color: #e74c3c;
        }
        
        .code-method {
            color: #1abc9c;
        }
        
        .highlight {
            background-color: #fffacd;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        .example {
            background-color: #e8f6f3;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #16a085;
        }
        
        .formula {
            font-size: 1.2em;
            text-align: center;
            margin: 15px 0;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 5px;
            font-family: 'Times New Roman', serif;
        }
        
        .matrix {
            display: inline-block;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }
        
        .note {
            background-color: #fff4e6;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #e67e22;
        }
        
        .visualization {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 25px 0;
        }
        
        .visualization-step {
            flex: 1;
            min-width: 250px;
            padding: 15px;
            background-color: #f0f7ff;
            border-radius: 8px;
            border: 1px solid #d1e7ff;
        }
        
        .equation {
            font-size: 1.1em;
            margin: 10px 0;
            padding: 10px;
            background-color: white;
            border-radius: 5px;
        }
        
        footer {
            margin-top: 30px;
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9em;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .visualization {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Алгоритм обратного хода метода Гаусса</h1>
            <p class="subtitle">Подробное объяснение и реализация на C#</p>
        </header>
        
        <section class="algorithm-explanation">
            <h2>Что такое обратный ход?</h2>
            <p>Обратный ход — это второй этап метода Гаусса, который выполняется после приведения системы к верхнетреугольному виду. На этом этапе мы находим значения неизвестных, начиная с последнего уравнения и двигаясь вверх.</p>
            
            <div class="note">
                <p><strong>Важно:</strong> Обратный ход возможен только если матрица приведена к верхнетреугольному виду (все элементы под главной диагональю равны нулю).</p>
            </div>
        </section>
        
        <div class="section">
            <h2>Алгоритм обратного хода</h2>
            
            <div class="step">
                <div class="step-number">1</div>
                <h3>Начальные условия</h3>
                <p>После прямого хода мы имеем систему уравнений в верхнетреугольном виде:</p>
                <div class="formula">
                    a₁₁x₁ + a₁₂x₂ + ... + a₁ₙxₙ = b₁<br>
                    0 + a₂₂x₂ + ... + a₂ₙxₙ = b₂<br>
                    ...<br>
                    0 + 0 + ... + aₙₙxₙ = bₙ
                </div>
            </div>
            
            <div class="step">
                <div class="step-number">2</div>
                <h3>Начинаем с последнего уравнения</h3>
                <p>Последнее уравнение содержит только одну неизвестную:</p>
                <div class="formula">aₙₙ·xₙ = bₙ</div>
                <p>Отсюда находим:</p>
                <div class="formula">xₙ = bₙ / aₙₙ</div>
                <p>При этом проверяем, что <span class="highlight">aₙₙ ≠ 0</span>, иначе система не имеет единственного решения.</p>
            </div>
            
            <div class="step">
                <div class="step-number">3</div>
                <h3>Двигаемся вверх по уравнениям</h3>
                <p>Для каждого уравнения i (от n-1 до 1) выполняем:</p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>Вычисляем сумму уже найденных решений: sum = a[i,i+1]·x[i+1] + ... + a[i,n]·x[n]</li>
                    <li>Находим x[i] по формуле: x[i] = (b[i] - sum) / a[i,i]</li>
                </ul>
                <p>В математической записи:</p>
                <div class="formula">
                    xᵢ = (bᵢ - Σ<sub>j=i+1</sub><sup>n</sup> aᵢⱼ·xⱼ) / aᵢᵢ
                </div>
            </div>
            
            <div class="step">
                <div class="step-number">4</div>
                <h3>Проверка решения</h3>
                <p>На каждом шаге проверяем, что диагональный элемент a[i,i] не равен нулю. Если он равен нулю, система не имеет единственного решения.</p>
            </div>
        </div>
        
        <div class="section">
            <h2>Реализация на C#</h2>
            
            <div class="code-block">
                <pre><code><span class="code-comment">// ===== Обратный ход (нахождение x) =====</span>
{
    <span class="code-keyword">int</span> i = n;  <span class="code-comment">// Начинаем с последнего уравнения</span>
    <span class="code-keyword">while</span> (i >= 1)  <span class="code-comment">// Идём вверх до первого уравнения</span>
    {
        <span class="code-type">double</span> sum = 0.0;  <span class="code-comment">// Сумма для уже найденных неизвестных</span>

        <span class="code-comment">// Вычисляем сумму произведений известных x[j] на коэффициенты a[i,j]</span>
        <span class="code-keyword">int</span> j = i + 1;  <span class="code-comment">// Начинаем со следующего после i столбца</span>
        <span class="code-keyword">while</span> (j <= n)
        {
            sum += a[i, j] * x[j];  <span class="code-comment">// Добавляем a[i,j] * x[j] к сумме</span>
            j++;
        }

        <span class="code-comment">// Проверка: диагональный элемент не должен быть нулевым</span>
        <span class="code-keyword">if</span> (a[i, i] == 0.0)
        {
            Console.WriteLine(
                <span class="code-string">"Ошибка: нулевой элемент на диагонали, нет единственного решения"</span>, i);
            <span class="code-keyword">return</span>;  <span class="code-comment">// Завершаем выполнение</span>
        }

        <span class="code-comment">// Вычисляем x[i] по формуле: x[i] = (b[i] - sum) / a[i,i]</span>
        x[i] = (b[i] - sum) / a[i, i];
        
        i--;  <span class="code-comment">// Переходим к предыдущему уравнению</span>
    }
}</code></pre>
            </div>
            
            <div class="note">
                <h3>Пояснения к коду:</h3>
                <ul>
                    <li><span class="highlight">i = n</span> — начинаем с последнего уравнения (индексация с 1)</li>
                    <li><span class="highlight">sum = 0.0</span> — переменная для накопления суммы известных слагаемых</li>
                    <li><span class="highlight">j = i + 1</span> — суммируем только элементы правее диагонали (так как матрица верхнетреугольная)</li>
                    <li><span class="highlight">a[i, i] == 0.0</span> — проверка на нулевой диагональный элемент</li>
                    <li><span class="highlight">x[i] = (b[i] - sum) / a[i, i]</span> — основная формула обратного хода</li>
                </ul>
            </div>
        </div>
        
        <div class="section">
            <h2>Пример выполнения обратного хода</h2>
            
            <div class="example">
                <p>Рассмотрим систему после прямого хода:</p>
                <div class="matrix">
                    2x₁ + 3x₂ + 1x₃ = 10<br>
                    0 + 4x₂ + 2x₃ = 12<br>
                    0 + 0 + 3x₃ = 6
                </div>
            </div>
            
            <div class="visualization">
                <div class="visualization-step">
                    <h3>Шаг 1: Находим x₃</h3>
                    <div class="equation">3x₃ = 6</div>
                    <div class="equation">x₃ = 6 / 3 = <span class="highlight">2</span></div>
                </div>
                
                <div class="visualization-step">
                    <h3>Шаг 2: Находим x₂</h3>
                    <div class="equation">4x₂ + 2·2 = 12</div>
                    <div class="equation">4x₂ + 4 = 12</div>
                    <div class="equation">4x₂ = 8</div>
                    <div class="equation">x₂ = 8 / 4 = <span class="highlight">2</span></div>
                </div>
                
                <div class="visualization-step">
                    <h3>Шаг 3: Находим x₁</h3>
                    <div class="equation">2x₁ + 3·2 + 1·2 = 10</div>
                    <div class="equation">2x₁ + 6 + 2 = 10</div>
                    <div class="equation">2x₁ + 8 = 10</div>
                    <div class="equation">2x₁ = 2</div>
                    <div class="equation">x₁ = 2 / 2 = <span class="highlight">1</span></div>
                </div>
            </div>
            
            <div class="formula">
                Решение: x₁ = 1, x₂ = 2, x₃ = 2
            </div>
        </div>
        
        <div class="section">
            <h2>Ключевые особенности обратного хода</h2>
            
            <div class="step">
                <h3>1. Направление вычислений</h3>
                <p>Вычисления идут <span class="highlight">снизу вверх</span> (от последнего уравнения к первому). Каждое найденное значение x[i] используется при вычислении предыдущих неизвестных.</p>
            </div>
            
            <div class="step">
                <h3>2. Эффективность</h3>
                <p>Количество операций в обратном ходе составляет примерно n²/2, что делает метод Гаусса эффективным для систем с большим количеством уравнений.</p>
            </div>
            
            <div class="step">
                <h3>3. Проверка корректности</h3>
                <p>На каждом шаге проверяется, что диагональный элемент не равен нулю. Если это не так, система либо не имеет решений, либо имеет бесконечно много решений.</p>
            </div>
            
            <div class="step">
                <h3>4. Устойчивость к ошибкам округления</h3>
                <p>В реальных вычислениях с плавающей точкой важно учитывать погрешности округления. Для улучшения устойчивости используется модификация с выбором главного элемента.</p>
            </div>
        </div>
        
        <div class="section">
            <h2>Математическая формулировка</h2>
            
            <p>Для системы уравнений в верхнетреугольном виде:</p>
            
            <div class="formula">
                a₁₁x₁ + a₁₂x₂ + ... + a₁ₙxₙ = b₁<br>
                a₂₂x₂ + ... + a₂ₙxₙ = b₂<br>
                ...<br>
                aₙₙxₙ = bₙ
            </div>
            
            <p>Решение вычисляется по формулам:</p>
            
            <div class="formula">
                xₙ = bₙ / aₙₙ<br>
                xᵢ = (bᵢ - Σ<sub>j=i+1</sub><sup>n</sup> aᵢⱼxⱼ) / aᵢᵢ, для i = n-1, n-2, ..., 1
            </div>
            
            <p>Где Σ обозначает сумму от j = i+1 до n.</p>
        </div>
        
        <footer>
            <p>Алгоритм обратного хода метода Гаусса — важный этап решения систем линейных уравнений</p>
            <p>Этот алгоритм широко используется в научных вычислениях, инженерных задачах и компьютерной графике</p>
        </footer>
    </div>

    <script>
        // Интерактивность для лучшего понимания
        document.addEventListener('DOMContentLoaded', function() {
            // Подсветка шагов при наведении
            const steps = document.querySelectorAll('.step');
            steps.forEach(step => {
                step.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px)';
                    this.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
                    this.style.transition = 'transform 0.3s, box-shadow 0.3s';
                });
                
                step.addEventListener('mouseleave', function() {
                    this.style.transform = '';
                    this.style.boxShadow = '';
                });
            });
            
            // Подсветка соответствующих частей кода при наведении на формулы
            const formulas = document.querySelectorAll('.formula');
            formulas.forEach(formula => {
                formula.addEventListener('mouseenter', function() {
                    this.style.backgroundColor = '#fff8e1';
                });
                
                formula.addEventListener('mouseleave', function() {
                    this.style.backgroundColor = '';
                });
            });
            
            // Анимация для заголовков секций
            const sectionHeaders = document.querySelectorAll('h2');
            sectionHeaders.forEach(header => {
                header.addEventListener('click', function() {
                    const originalColor = this.style.color;
                    this.style.color = '#e74c3c';
                    this.style.transition = 'color 0.5s';
                    
                    setTimeout(() => {
                        this.style.color = originalColor || '';
                    }, 500);
                });
            });
            
            // Интерактивный пример
            const exampleEquations = document.querySelectorAll('.equation');
            exampleEquations.forEach((eq, index) => {
                eq.addEventListener('click', function() {
                    const originalBg = this.style.backgroundColor;
                    this.style.backgroundColor = '#e1f5fe';
                    this.style.transition = 'background-color 0.3s';
                    
                    setTimeout(() => {
                        this.style.backgroundColor = originalBg || '';
                    }, 1000);
                });
            });
        });
    </script>
</body>
</html>